//////////////////////////////////////
// CONFIGURA√á√ïES INICIAIS

UserName = GetUserInfos().PlayerName
UniverseName = GetUniverseName()
Language = GetLanguage()

telegramId = TELEGRAM_CHAT_ID
//discordWebhook = DISCORD_WEBHOOK_URL  // <- Substituir pelo teu Webhook Discord

fsMade = 0

//////////////////////////////////////
// FUN√á√ïES DE ENVIO

func SendAll(msg) {
    Print(msg)
    SendTelegram(telegramId, msg)
   // SendDiscord(msg)
}



//////////////////////////////////////
// IN√çCIO DO PROCESSO

intro = "üöÄ In√≠cio do envio Planetas ‚û°Ô∏è Luas por " + UserName + " (" + UniverseName + " | " + Language + ")"
SendAll(intro)

planets = GetCachedPlanets()

// Simula tempo de planeamento inicial
Sleep(Random(3000, 7000))

for planet in planets {

    Print("üß† Analisando planeta: " + planet.Coordinate)
    Sleep(Random(1500, 3000))  // Tempo de an√°lise humana

    origin = planet.Coordinate
    destination = NewCoordinate(origin.Galaxy, origin.System, origin.Position, MOON_TYPE)

    fleet = NewFleet()
    fleet.SetOrigin(origin)
    fleet.SetDestination(destination)
    fleet.SetMission(PARK)
    fleet.SetAllShips()       // <- Envia todas as naves
    fleet.SetAllResources()   // <- Envia todos os recursos

    Sleep(Random(2000, 4000))  // Delay de decis√£o

    fleet, err = fleet.SendNow()

    if err != nil {
        errorMsg = "‚ùå Erro ao enviar frota\nü™ê De: " + origin + "\nüåô Para: " + destination + "\nErro: " + err
        LogError(err)
        SendAll(errorMsg)
        Sleep(Random(1000, 2000))
    } else {
        successMsg = "‚úÖ Frota enviada\nü™ê De: " + origin + "\nüåô Para: " + destination + "\nüöö Miss√£o: Estacionar (Todas as naves + recursos)"
        fsMade += 1
        SendAll(successMsg)
        Sleep(Random(8000, 18000))  // Delay humano ap√≥s envio
    }

    // Delay entre blocos aleat√≥rio
    if Random(1, 100) > 85 {
        Print("üò¥ Pausa extra para parecer natural...")
        Sleep(Random(10000, 25000))
    }
}

//////////////////////////////////////
// FINALIZA√á√ÉO

conclusion = "üèÅ Processo conclu√≠do por " + UserName + " (" + UniverseName + " | " + Language + ")"
summary = "üì¶ Total de frotas enviadas com sucesso: " + fsMade

SendAll(conclusion)
SendAll(summary)
